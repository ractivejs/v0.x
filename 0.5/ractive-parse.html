<!doctype html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=Edge,chrome=1'>

	<title> Ractive.parse() | Docs | Ractive.js </title >

	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>

	<link rel='icon' type='image/png' href='../assets/favicon.png'>
	<link rel='stylesheet' href='../min.css'>

	<!--[if lte IE 8]>
		<script src='../assets/respond.min.js'></script>
		<script src='../assets/html5shiv.min.js'></script>
	<![endif]-->

</head>

<body class='example'>

	<nav>
	<div class='nav-inner'>
		<a href='http://ractivejs.org'>Ractive.js</a>

		<ul>
			<li><a href='http://ractivejs.org/60-second-setup'>60 second setup</a></li>
			<li><a href='http://learn.ractivejs.org'>Tutorials</a></li>
			<li><a href='http://examples.ractivejs.org'>Examples</a></li>
			<li class="selected"><a href='http://docs.ractivejs.org'>Docs</a></li>
			<li><a href='http://docs.ractivejs.org/latest/plugins'>Plugins</a></li>
			<li><a href='http://blog.ractivejs.org'>Blog</a></li>
			<li class='github-small'><a href='https://github.com/ractivejs/ractive'>GitHub</a></li>
		</ul>

		<a class='github-wide' href='https://github.com/ractivejs/ractive'>GitHub</a>

		<button id='nav-toggle'>&#9776;</button>
	</div>
</nav>


	<main>
		<div class='content'>
			<header class='main-header'>
				<h1>Ractive.parse()</h1>
				<a class='edit-link' href='https://github.com/ractivejs/docs.ractivejs.org/edit/master/docs/0.5/Ractive.parse().md.hbs'>edit this page</a>
			</header>

			<p>Before templates can be used, they must be parsed. Parsing involves reading in a template string and converting it to a tree-like data structure, much like a browser&#39;s parser would.</p>
<p>Ordinarily, parsing happens automatically. However you can use <code>Ractive.parse()</code> as a standalone function if, for example, you want to parse templates as part of your build process (it works in Node.js). See also <a href="using-ractive-with-requirejs">Using Ractive with RequireJS</a>.</p>
<p>The output of <code>Ractive.parse()</code> is an array or object (depending on whether the template contains <a href="partials#inline-partials">inline partials</a> or not). Here&#39;s an example:</p>
<pre><code class="language-html">&lt;div class=&#39;gallery&#39;&gt;
  {{#items}}
    &lt;!-- comments get stripped out of the template --&gt;
    &lt;figure proxy-tap=&#39;select&#39; intro=&#39;staggered&#39;&gt;
      &lt;img class=&#39;thumbnail&#39; src=&#39;assets/images/{{id}}.jpg&#39;&gt;
      &lt;figcaption&gt;{{( i+1 )}}: {{description}}&lt;/figcaption&gt;
    &lt;/figure&gt;
  {{/items}}
&lt;/div&gt;</code></pre>
<p>...gets turned into...</p>
<pre><code class="language-js">[{<span class="string">"t"</span>:<span class="number">7</span>,<span class="string">"e"</span>:<span class="string">"div"</span>,<span class="string">"a"</span>:{<span class="string">"class"</span>:<span class="string">"gallery"</span>},<span class="string">"f"</span>:[{<span class="string">"t"</span>:<span class="number">4</span>,<span class="string">"r"</span>:<span class="string">"items"</span>,<span class="string">"i"</span>:<span class="string">"i"</span>,<span class="string">"f"</span>:[<span class="string">" "</span>,{<span class="string">"t"</span>:<span class="number">7</span>,<span class="string">"e"</span>:<span class="string">"figure"</span>,<span class="string">"a"</span>:{<span class="string">"intro"</span>:<span class="string">"staggered"</span>},<span class="string">"f"</span>:[{<span class="string">"t"</span>:<span class="number">7</span>,<span class="string">"e"</span>:<span class="string">"img"</span>,<span class="string">"a"</span>:{<span class="string">"class"</span>:<span class="string">"thumbnail"</span>,<span class="string">"src"</span>:[<span class="string">"assets/images/"</span>,{<span class="string">"t"</span>:<span class="number">2</span>,<span class="string">"r"</span>:<span class="string">"id"</span>,<span class="string">"p"</span>:<span class="number">4</span>},<span class="string">".jpg"</span>]}},<span class="string">" "</span>,{<span class="string">"t"</span>:<span class="number">7</span>,<span class="string">"e"</span>:<span class="string">"figcaption"</span>,<span class="string">"f"</span>:[{<span class="string">"t"</span>:<span class="number">2</span>,<span class="string">"x"</span>:{<span class="string">"r"</span>:[<span class="string">"i"</span>],<span class="string">"s"</span>:<span class="string">"‚ùñ0+1"</span>},<span class="string">"p"</span>:<span class="number">4</span>},<span class="string">": "</span>,{<span class="string">"t"</span>:<span class="number">2</span>,<span class="string">"r"</span>:<span class="string">"description"</span>,<span class="string">"p"</span>:<span class="number">4</span>}]}],<span class="string">"v"</span>:{<span class="string">"tap"</span>:<span class="string">"select"</span>}},<span class="string">" "</span>],<span class="string">"p"</span>:<span class="number">1</span>}]}]</code></pre>
<p>This contains everything Ractive needs to construct its bit of the DOM and set up data-binding, proxy event handlers, and transitions.</p>
<p>It&#39;s not designed to be human-readable or -editable, but rather to use as few bytes as possible. Typically a parsed template is only about 30-40% larger than the string version. (There is some useful testing to be done to see whether the tradeoff of piping the extra few bytes to users is worth the few milliseconds of parsing that it will save!)</p>
<p>Wherever possible (in other words, with whichever bits of a template don&#39;t use Ractive-specific features), the template will be stored as plain HTML.</p>
<p>You use <code>Ractive.parse()</code> like so:</p>
<pre><code class="language-js"><span class="comment">// options are, well, optional</span>
parsed = Ractive.parse( template, options );</code></pre>
<h2 id="parser-options">Parser options</h2>
<blockquote>
<h3 id="preservewhitespace-boolean-">preserveWhitespace <em><code>Boolean</code></em></h3>
<p>Defaults to <code>false</code>. Whether or not to preserve whitespace in templates. (Whitespace in <code>&lt;pre&gt;</code> elements is always preserved.)</p>
<h3 id="sanitize-boolean-or-object-">sanitize <em><code>Boolean</code> or <code>Object</code></em></h3>
<p>Defaults to <code>false</code>. If <code>true</code>, certain elements will be stripped from templates - <code>&lt;applet&gt;</code>, <code>&lt;base&gt;</code>, <code>&lt;basefont&gt;</code>, <code>&lt;body&gt;</code>, <code>&lt;frame&gt;</code>, <code>&lt;frameset&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;html&gt;</code>, <code>&lt;isindex&gt;</code>, <code>&lt;link&gt;</code>, <code>&lt;meta&gt;</code>, <code>&lt;noframes&gt;</code>, <code>&lt;noscript&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;param&gt;</code>, <code>&lt;script&gt;</code>, <code>&lt;style&gt;</code> and <code>&lt;title&gt;</code> - as will event attributes (e.g. <code>onclick</code>). Alternatively, pass in an object with an <code>elements</code> property containing an array of blacklisted elements, and an optional <code>eventAttributes</code> boolean (<code>true</code> means &#39;disallow event attributes&#39;).</p>
</blockquote>

		</div>

		<aside class="left-nav">
			<section>
	<h1>Introduction</h1>
	<ul>
		<li><a href="get-started">Get started</a></li>
		<li><a href="tips">Tips</a></li>
		<li><a href="get-support">Get support</a></li>
		<li><a href="contributing">Contributing</a></li>
		<li><a href="get-started-with-node-js">Get started with node.js</a></li>
	</ul>
</section>

<section>
	<h1>Configuration</h1>
	<ul>
		<li><a href="options">Options</a></li>
		<li><a href="ractive-defaults">Defaults</a></li>
		<li><a href="advanced-configuration">Advanced configuration</a></li>
	</ul>
</section>
<section>
	<h1>Core Concepts</h1>
	<h2>Templates</h2>
	<ul>
		<li><a href="templates">Templates</a></li>
		<li><a href="mustaches">Mustaches</a></li>
		<li><a href="references">References</a></li>
		<li><a href="expressions">Expressions</a></li>
		<li><a href="keypaths">Keypaths</a></li>
		<li><a href="partials">Partials</a></li>
		<li><a href="decorators">Decorators</a></li>
		<li><a href="events">Events</a></li>
	</ul>
	<h2>Data & Binding</h2>
	<ul>
		<li><a href="two-way-binding">Two-way binding</a></li>
		<li><a href="magic-mode">Magic mode</a></li>
		<li><a href="dependants">Dependants</a></li>
		<li><a href="array-modification">Array modification</a></li>
		<li><a href="computed-properties">Computed Properties</a></li>
		<li><a href="observers">Observers</a></li>
		<li><a href="adaptors">Adaptors</a></li>
		<li><a href="parallel-dom">Parallel DOM</a></li>
	</ul>
	<h2>Transitions and Animations</h2>
	<ul>
		<li><a href="transitions">Transitions</a></li>
		<li><a href="promises">Promises</a></li>
		<li><a href="ractive-easing">Easings</a></li>
	</ul>
	<h2>Components</h2>
	<ul>
		<li><a href="components">Components</a></li>
	</ul>
</section>
<section>
	<h1>API Reference</h1>
	<h2>Constructor</h2>
	<ul>
		<li><a href="new-ractive">new Ractive(...)</a></li>
	</ul>
	<h2>Instance methods</h2>
	<ul>
		<li><a href="ractive-add">ractive.add()</a></li>
		<li><a href="ractive-animate">ractive.animate()</a></li>
		<li><a href="ractive-detach">ractive.detach()</a></li>
		<li><a href="ractive-find">ractive.find()</a></li>
		<li><a href="ractive-findall">ractive.findAll()</a></li>
		<li><a href="ractive-findallcomponents">ractive.findAllComponents()</a></li>
		<li><a href="ractive-findcomponent">ractive.findComponent()</a></li>
		<li><a href="ractive-fire">ractive.fire()</a></li>
		<li><a href="ractive-get">ractive.get()</a></li>
		<li><a href="ractive-insert">ractive.insert()</a></li>
		<li><a href="ractive-merge">ractive.merge()</a></li>
		<li><a href="ractive-observe">ractive.observe()</a></li>
		<li><a href="ractive-off">ractive.off()</a></li>
		<li><a href="ractive-on">ractive.on()</a></li>
		<li><a href="ractive-pop">ractive.pop()</a></li>
		<li><a href="ractive-push">ractive.push()</a></li>
		<li><a href="ractive-render">ractive.render()</a></li>
		<li><a href="ractive-reset">ractive.reset()</a></li>
		<li><a href="ractive-set">ractive.set()</a></li>
		<li><a href="ractive-shift">ractive.shift()</a></li>
		<li><a href="ractive-splice">ractive.splice()</a></li>
		<li><a href="ractive-subtract">ractive.subtract()</a></li>
		<li><a href="ractive-teardown">ractive.teardown()</a></li>
		<li><a href="ractive-toggle">ractive.toggle()</a></li>
		<li><a href="ractive-tohtml">ractive.toHTML()</a></li>
		<li><a href="ractive-unshift">ractive.unshift()</a></li>
		<li><a href="ractive-update">ractive.update()</a></li>
		<li><a href="ractive-updatemodel">ractive.updateModel()</a></li>
	</ul>
	<h2>Instance properties</h2>
	<ul>
		<li><a href="ractive-nodes">ractive.nodes</a></li>
		<li><a href="ractive-transitions-instance">ractive.transitions</a></li>
		<li><a href="ractive-partials-instance">ractive.partials</a></li>
	</ul>
	<h2>Static methods</h2>
	<ul>
		<li><a href="ractive-parse">Ractive.parse()</a></li>
		<li><a href="ractive-extend">Ractive.extend()</a></li>
	</ul>
	<h2>Static properties</h2>
	<ul>
		<li><a href="ractive-defaults">Ractive.defaults</a></li>
		<li><a href="ractive-easing">Ractive.easing</a></li>
	</ul>
</ul>
</section>
<section>
	<h1>Plugins</h1>
	<h2>Using</h2>
	<ul>
		<li><a href="plugins">List of plugins</a></li>
	</ul>
	<h2>Writing</h2>
	<ul>
		<li><a href="writing-adaptor-plugins">Adaptors</a></li>
		<li><a href="writing-decorator-plugins">Decorators</a></li>
		<li><a href="writing-event-plugins">Events</a></li>
		<li><a href="writing-transition-plugins">Transitions</a></li>
	</ul>
</section>

<section>
	<h1>Specific versions</h1>

	<ul>
		<li><a href='../edge'>edge</a></li>
		<li><a href='../0.7'>0.7</a></li>
		<li><a href='../0.6'>0.6</a></li>
		<li><a href='../0.5'>0.5</a></li>
		<li><a href='../0.4.0'>0.4.0</a></li>
		<li><a href='../0.3.9'>0.3.9</a></li>
	</ul>
</section>

		</aside>
	</main>

	<footer>
	<p>Ractive.js is a free and open source project released under the MIT license.</p>
</footer>


	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-5602942-6', 'ractivejs.org');
	ga('send', 'pageview');
</script>


	<script src='../assets/nav.js'></script>

</body>
</html>
