<!doctype html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=Edge,chrome=1'>

	<title> Migrating to 0.6.x | Docs | Ractive.js </title >

	<meta name='viewport' content='width=device-width'>

	<link rel='icon' type='image/png' href='../assets/favicon.png'>
	<link rel='stylesheet' href='../min.css'>

	<!--[if lte IE 8]>
		<script src='../assets/respond.min.js'></script>
		<script src='../assets/html5shiv.min.js'></script>
	<![endif]-->

</head>

<body class='example'>

	<nav>
	<div class='nav-inner'>
		<a href='http://ractivejs.org'>Ractive.js</a>

		<ul>
			<li><a href='http://ractivejs.org/60-second-setup'>60 second setup</a></li>
			<li><a href='http://learn.ractivejs.org'>Tutorials</a></li>
			<li><a href='http://examples.ractivejs.org'>Examples</a></li>
			<li class="selected"><a href='http://docs.ractivejs.org'>Docs</a></li>
			<li><a href='http://docs.ractivejs.org/latest/plugins'>Plugins</a></li>
			<li><a href='http://blog.ractivejs.org'>Blog</a></li>
			<li class='github-small'><a href='https://github.com/ractivejs/ractive'>GitHub</a></li>
		</ul>

		<a class='github-wide' href='https://github.com/ractivejs/ractive'>GitHub</a>

		<button id='nav-toggle'>&#9776;</button>
	</div>
</nav>


	<main>
		<div class='content'>
			<header class='main-header'>
				<h1>Migrating to 0.6.x</h1>
				<a class='edit-link' href='https://github.com/ractivejs/docs.ractivejs.org/edit/master/docs/0.6/Migrating.md.hbs'>edit this page</a>
			</header>

			<p>These migration notes are cribbed from the <a href="https://github.com/ractivejs/ractive/blob/dev/CHANGELOG.md">CHANGELOG</a>. While we strive to minimise breaking changes, and to highlight the ones we do introduce, if you discover an undocumented breaking change please edit this page.</p>
<h2 id="migrating-from-0-5-x">Migrating from 0.5.x</h2>
<h3 id="lifecycle-events">Lifecycle events</h3>
<p>Ractive instances now emit <em>lifecycle events</em>. If you use <code>Ractive.extend(...)</code> with <code>init()</code>, <code>beforeInit()</code> or <code>complete()</code>, you will need to replace them - they will continue to work, but will be removed in a future version.</p>
<p><code>init()</code> can be replaced with one of the following methods, or you may need to split your code into both methods. Use <code>onrender()</code> for code that needs access to the rendered DOM, but is safe being called more than once if you unrender and rerender your ractive instance. Use <code>oninit()</code> for code that should run only once or needs to be run regardless of whether the ractive instance is rendered into the DOM.</p>
<p>The <code>init()</code> method also no longer recieves an <code>options</code> parameter as the ractive instance now inherits <em>all</em> options passed to the constructor. You can still access the options directly using the <code>onconstruct()</code> method.</p>
<p><code>beforeInit()</code> and <code>complete()</code> can be replaced directly with <code>onconstruct()</code> and <code>oncomplete()</code> respectively.</p>
<p>See the <a href="lifecycle-events">lifecycle events</a> page for more detail.</p>
<h3 id="other-breaking-changes">Other Breaking changes</h3>
<ul>
<li><code>new Ractive()</code> now inherits all options as methods/properties including event hooks. If you have been passing data through custom initialisation options be aware that they will appended to your ractive instance.</li>
<li><p>Using other elements besides <code>&lt;script&gt;</code> for templates is an now an error. Migrate any templates in non-script elements and include a non-javascript type so the browser does not try to interpret your template:</p>
<pre><code class="language-js">      &lt;script id=<span class="string">'template'</span> type=<span class="string">'text/ractive'</span>&gt;
          Your template goes here
      &lt;<span class="regexp">/script&gt;</code></pre>
</li>
<li><p>New reserved events cannot be used for proxy event names, i.e. <code>&lt;p on-click=&#39;init&#39;&gt;&lt;/p&gt;</code>. These include &#39;change&#39;, &#39;config&#39;, &#39;construct&#39;, &#39;init&#39;, &#39;render&#39;, &#39;reset&#39;, &#39;teardown&#39;, &#39;unrender&#39;, and &#39;update&#39;. You will need to rename your events.</p>
</li>
<li>Setting uninitialised data on a component will no longer cause it to leak out into the parent scope</li>
<li>&#39;Smart updates&#39;, via <code>ractive.merge()</code> and <code>ractive.shift()</code> etc, work across component boundaries. In most cases this is the expected behavior.</li>
<li>The CSS length interpolator has been removed.</li>
</ul>
<h2 id="migrating-from-0-4-x">Migrating from 0.4.x</h2>
<h3 id="breaking-changes">Breaking changes</h3>
<ul>
<li>Errors in observers and evaluators are no longer caught</li>
<li>Nodes are detached as soon as any outro transitions are complete (if any), rather than when <em>all</em> transitions are complete</li>
<li>(Outdated if you are moving to <code>0.6.x</code> or above) The options argument of <code>init: function(options)</code> is now strictly what was passed into the constructor, use <code>this.option</code> to access configured value.</li>
<li><code>data</code> with properties on prototype are no longer cloned when accessed. <code>data</code> from &quot;baseClass&quot; is no longer deconstructed and copied.</li>
<li>Options specified on component constructors will not be picked up as defaults. <code>debug</code> now on <code>defaults</code>, not constructor</li>
<li>Select bindings follow general browser rules for choosing options. Disabled options have no value.</li>
<li>Input values are not coerced to numbers, unless input type is <code>number</code> or <code>range</code></li>
<li><code>{{this.foo}}</code> in templates now means same thing as <code>{{.foo}}</code></li>
<li>Rendering to an element already render by Ractive causes that element to be torn down (unless appending).</li>
<li>Illegal javascript no longer allowed by parser in expressions and will throw</li>
<li>Parsed template format changed to specify template spec version.<ul>
<li>Proxy-event representation</li>
<li>Non-dynamic (bound) fragments of html are no longer stored as single string</li>
<li>See <a href="https://github.com/ractivejs/template-spec">https://github.com/ractivejs/template-spec</a> for current spec.</li>
</ul>
</li>
<li>Arrays being observed via <code>array.*</code> no longer send <code>item.length</code> event on mutation changes</li>
<li>Reserved event names in templates (&#39;change&#39;, &#39;config&#39;, &#39;construct&#39;, &#39;init&#39;, &#39;render&#39;, &#39;reset&#39;, &#39;teardown&#39;, &#39;unrender&#39;, &#39;update&#39;) will cause the parser to throw an error</li>
<li><code>{{else}}</code> support in both handlebars-style blocks and regular mustache conditional blocks, but is now a restricted keyword that cannot be used as a regular reference</li>
<li>Child components are created in data order</li>
<li>Reference expressions resolve left to right and follow same logic as regular mustache references (bind to root, not context, if left-most part is unresolved).</li>
<li>Improved attribute parsing and handling:<ul>
<li>character escaping and whitespace handling in attribute directive arguments</li>
<li>boolean and empty string attributes</li>
</ul>
</li>
<li>Computed properties no longer create nested objects with keypath like names, i.e. <code>page.area: &#39;${width} * ${height}&#39;</code> creates a property accessible by <code>{{page.area}}</code> but not <code>{{#page}}{{area}}{{/page}}</code></li>
<li>The element into which the ractive instance was rendered is no longer available as <code>ractive.el</code>. See <a href="ractive-render">ractive.render()</a> and <a href="ractive-insert">ractive.insert()</a> for more information on moving ractive instances in the DOM.</li>
</ul>

		</div>

		<aside class="left-nav">
			<section>
	<h1>Introduction</h1>
	<ul>
		<li><a href="get-started">Get started</a></li>
		<li><a href="tips">Tips</a></li>
		<li><a href="get-support">Get support</a></li>
		<li><a href="contributing">Contributing</a></li>
		<li><a href="get-started-with-node-js">Get started with node.js</a></li>
		<li><a href="migrating">Migrating from previous versions</a></li>
	</ul>
</section>

<section>
	<h1>Configuration</h1>
	<ul>
		<li><a href="options">Options</a></li>
		<li><a href="ractive-defaults">Defaults</a></li>
		<li><a href="advanced-configuration">Advanced configuration</a></li>
	</ul>
</section>
<section>
	<h1>Core Concepts</h1>
	<h2>Templates</h2>
	<ul>
		<li><a href="templates">Templates</a></li>
		<li><a href="mustaches">Mustaches</a></li>
		<li><a href="references">References</a></li>
		<li><a href="expressions">Expressions</a></li>
		<li><a href="keypaths">Keypaths</a></li>
		<li><a href="partials">Partials</a></li>
		<li><a href="decorators">Decorators</a></li>
	</ul>
	<h2>Data & Binding</h2>
	<ul>
		<li><a href="two-way-binding">Two-way binding</a></li>
		<li><a href="magic-mode">Magic mode</a></li>
		<li><a href="dependants">Dependants</a></li>
		<li><a href="array-modification">Array modification</a></li>
		<li><a href="computed-properties">Computed Properties</a></li>
		<li><a href="observers">Observers</a></li>
		<li><a href="adaptors">Adaptors</a></li>
		<li><a href="parallel-dom">Parallel DOM</a></li>
	</ul>
	<h2>Events</h2>
	<ul>
		<li><a href="events-overview">Overview</a></li>
		<li><a href="event-directives">Event directives</a></li>
		<li><a href="proxy-events">Proxy events</a></li>
		<li><a href="method-calls">Method calls</a></li>
		<li><a href="publish-subscribe">Publish/subscribe</a></li>
		<li><a href="event-bubbling">Event bubbling</a></li>
		<li><a href="lifecycle-events">Lifecycle events</a></li>
	</ul>
	<h2>Transitions and Animations</h2>
	<ul>
		<li><a href="transitions">Transitions</a></li>
		<li><a href="promises">Promises</a></li>
		<li><a href="ractive-easing">Easings</a></li>
	</ul>
	<h2>Components</h2>
	<ul>
		<li><a href="components">Components</a></li>
	</ul>
</section>
<section>
	<h1>API Reference</h1>
	<h2>Constructor</h2>
	<ul>
		<li><a href="new-ractive">new Ractive(...)</a></li>
	</ul>
	<h2>Instance methods</h2>
	<ul>
		<li><a href="ractive-add">ractive.add()</a></li>
		<li><a href="ractive-animate">ractive.animate()</a></li>
		<li><a href="ractive-detach">ractive.detach()</a></li>
		<li><a href="ractive-find">ractive.find()</a></li>
		<li><a href="ractive-findall">ractive.findAll()</a></li>
		<li><a href="ractive-findallcomponents">ractive.findAllComponents()</a></li>
		<li><a href="ractive-findcomponent">ractive.findComponent()</a></li>
		<li><a href="ractive-fire">ractive.fire()</a></li>
		<li><a href="ractive-get">ractive.get()</a></li>
		<li><a href="ractive-insert">ractive.insert()</a></li>
		<li><a href="ractive-merge">ractive.merge()</a></li>
		<li><a href="ractive-observe">ractive.observe()</a></li>
		<li><a href="ractive-off">ractive.off()</a></li>
		<li><a href="ractive-on">ractive.on()</a></li>
		<li><a href="ractive-pop">ractive.pop()</a></li>
		<li><a href="ractive-push">ractive.push()</a></li>
		<li><a href="ractive-render">ractive.render()</a></li>
		<li><a href="ractive-reset">ractive.reset()</a></li>
		<li><a href="ractive-set">ractive.set()</a></li>
		<li><a href="ractive-shift">ractive.shift()</a></li>
		<li><a href="ractive-splice">ractive.splice()</a></li>
		<li><a href="ractive-subtract">ractive.subtract()</a></li>
		<li><a href="ractive-teardown">ractive.teardown()</a></li>
		<li><a href="ractive-toggle">ractive.toggle()</a></li>
		<li><a href="ractive-tohtml">ractive.toHTML()</a></li>
		<li><a href="ractive-unrender">ractive.unrender()</a></li>
		<li><a href="ractive-unshift">ractive.unshift()</a></li>
		<li><a href="ractive-update">ractive.update()</a></li>
		<li><a href="ractive-updatemodel">ractive.updateModel()</a></li>
	</ul>
	<h2>Instance properties</h2>
	<ul>
		<li><a href="ractive-nodes">ractive.nodes</a></li>
		<li><a href="ractive-transitions-instance">ractive.transitions</a></li>
		<li><a href="ractive-partials-instance">ractive.partials</a></li>
	</ul>
	<h2>Static methods</h2>
	<ul>
		<li><a href="ractive-extend">Ractive.extend()</a></li>
		<li><a href="ractive-parse">Ractive.parse()</a></li>
	</ul>
	<h2>Static properties</h2>
	<ul>
		<li><a href="ractive-defaults">Ractive.defaults</a></li>
		<li><a href="ractive-easing">Ractive.easing</a></li>
	</ul>
</ul>
</section>
<section>
	<h1>Plugins</h1>
	<h2>Using</h2>
	<ul>
		<li><a href="plugins">List of plugins</a></li>
	</ul>
	<h2>Writing</h2>
	<ul>
		<li><a href="writing-adaptor-plugins">Adaptors</a></li>
		<li><a href="writing-decorator-plugins">Decorators</a></li>
		<li><a href="writing-event-plugins">Events</a></li>
		<li><a href="writing-transition-plugins">Transitions</a></li>
	</ul>
</section>

<section>
	<h1>Specific versions</h1>

	<ul>
		<li><a href='../edge'>edge</a></li>
		<li><a href='../0.7'>0.7</a></li>
		<li><a href='../0.6'>0.6</a></li>
		<li><a href='../0.5'>0.5</a></li>
		<li><a href='../0.4.0'>0.4.0</a></li>
		<li><a href='../0.3.9'>0.3.9</a></li>
	</ul>
</section>

		</aside>
	</main>

	<footer>
	<p>Ractive.js is a free and open source project released under the MIT license.</p>
</footer>


	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-5602942-6', 'ractivejs.org');
	ga('send', 'pageview');
</script>


	<script src='../assets/nav.js'></script>

</body>
</html>
